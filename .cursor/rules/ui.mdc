---
description: 
globs: 
alwaysApply: false
---
## ğŸ¨â€¯Design System Guidelines (Tailwindâ€¯v3â€¯+â€¯shadcn/ui)

This document spells out **exactly how to author UI code** in this project. Treat it as a contract.

---

### 1â€¯Â·â€¯Sourceâ€¯ofâ€¯Truth

- **Tokens live in two files only**
    - `globals.css` â€“ declarative CSS variables (`--primary`, `--radius`, etc.).
    - `tailwind.config.js` â€“ maps those variables to Tailwind designâ€‘tokens (colors, fonts, spacingâ€¦).
- **Do not redefine, shadow, or inlineâ€‘override** any values found there.
- Darkâ€‘mode is controlled by the `.dark` classâ€”respect it; no `prefers-color-scheme` hacks.

---

### 2â€¯Â·â€¯Component Workflow

1. **Look before you code**
    - Scan `/components/**` for an existing component that already does the job.
    - If it exists, **reuse**â€”extend only through props or composition.
1. **When creating a new component**
    - Export as a **named functional component** (`export function AlertDialog() { â€¦ }`).
    - Colocate tests and stories (`.test.tsx`, `.stories.tsx`).
    - Keep the public API minimal; expose only necessary props.

---

### 3â€¯Â·â€¯Styling Rules

- **Utilityâ€‘first only** â€“ Tailwind classes compose the UI. Absolutely **no `style={{â€¦}}` props**.
- **No extra CSS files** â€“ If something truly needs CSS, add it under the relevant `@layer` in `globals.css`.
- **No â€œmagic numbersâ€** â€“ use spacing scale (`p-4`, `gap-6`), radii (`rounded-lg`), etc.
- **Typography** â€“ rely on `font-sans` / `font-mono` and `text-{xsâ€¦9xl}`. Never hardâ€‘code `px` sizes.
- **Colors** â€“ pick from the semantic palette (`bg-primary`, `text-muted-foreground`, `border-destructive`). Never call `oklch()` or `hsl()` directly in JSX.

**Use colors semantically:**  * `primary`: For main call-to-action buttons, important highlights.  * `secondary`: For less prominent actions or secondary information.  * `destructive`: For actions that lead to deletion or other potentially negative outcomes.  * `background`, `foreground`: For general page and text colors.  * `card`, `card-foreground`: For card-like container elements.  * `popover`, `popover-foreground`: For popover elements.  * `border`: For general borders.  * `input`: For input field borders/backgrounds.  * `ring`: For focus rings or similar emphasis.

- **Shadows & radius** â€“ only the keys supplied in `boxShadow` / `borderRadius`.

---

### 4â€¯Â·â€¯Accessibility & Semantics

- Write **semantic HTML** first (`<button>` not `<div onClick>`).
- Provide ARIA labels/roles where semantics alone are insufficient.
- Ensure colorâ€‘contrast passes WCAGâ€¯AA (the token palette is preâ€‘tuned; deviations are your responsibility).

---

### 6â€¯Â·â€¯State, Motion & Feedback

- **Animations** â€“ only `animate-[spin|ping|pulse|bounce|accordion-up|accordion-down]`.
- Duration/easing are fixed in `tailwind.config.js`; do not inline `transition` props.
- **Loading / Error states** â€“ every async component must expose at least: â€œidleâ€, â€œloadingâ€, â€œerrorâ€, â€œsuccessâ€.

---

### 7â€¯Â·â€¯Type Safety & Dependencies

- **TypeScript strict mode**; never use `any`, `unknown`, or `@ts-ignore`.
- Do not introduce new packages without prior approvalâ€”stick to: Reactâ€¯18, Next.js, shadcn/ui, Radix, Tailwindâ€¯v3, and testing libs already present.

---

### 8â€¯Â·â€¯Directory & Naming Conventions

```other
/components
    /ui
        /AlertDialog
            AlertDialog.tsx
            AlertDialog.test.tsx
            AlertDialog.stories.tsx
            index.ts          (reâ€‘export)
```

- Component folder = PascalCase.
- CSS layers keyed to component name inside `globals.css` (rare).
- Utility classes follow **BEMâ€‘like intent** comments when clarity is needed.

---

### 9â€¯Â·â€¯Code Review Checklist

1. Uses only allowed tokens/utilities.
2. No duplicated component logic.
3. Passes unit tests + Storybook visual check.
4. Meets a11y rules (axe-core).
5. Bundle size unchanged or justified.